(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{311:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return d}));var n=r(314),o=r(1),c=Object(o.g)("v-card__actions"),l=Object(o.g)("v-card__subtitle"),d=Object(o.g)("v-card__text"),m=Object(o.g)("v-card__title");n.a},312:function(e,t,r){"use strict";r(22);var n=r(0),o=(r(11),r(10),r(7),r(4),r(9),r(139),r(2)),c=(r(313),r(138)),l=r(27),d=r(68),m=r(140),h=r(23),f=r(1),v=r(8);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var w=Object(v.a)(l.a,Object(d.b)(["absolute","fixed","top","bottom"]),m.a,h.a).extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(f.f)(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(f.f)(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var e;return e={opacity:null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity)},Object(o.a)(e,this.$vuetify.rtl?"right":"left",Object(f.f)(this.normalizedValue,"%")),Object(o.a)(e,"width",Object(f.f)(this.normalizedBuffer-this.normalizedValue,"%")),e},classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?c.c:c.d},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=Object(f.f)(this.normalizedBuffer,"%")),e}},methods:{genContent:function(){var slot=Object(f.m)(this,"default",{value:this.internalLazyValue});return slot?this.$createElement("div",{staticClass:"v-progress-linear__content"},slot):null},genListeners:function(){var e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar:function(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(o.a)({},e,!0)}))},onClick:function(e){if(this.reactive){var t=this.$el.getBoundingClientRect().width;this.internalValue=e.offsetX/t*100}},normalize:function(e){return e<0?0:e>100?100:parseFloat(e)}},render:function(e){return e("div",{staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(f.f)(this.height):0,top:this.top?0:void 0},on:this.genListeners()},[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}});t.a=n.a.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(w,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},313:function(e,t,r){},314:function(e,t,r){"use strict";r(11),r(10),r(7),r(4),r(9);var n=r(2),o=(r(22),r(315),r(141)),c=r(312),l=r(63),d=r(8);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(d.a)(c.a,l.a,o.a).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},outlined:Boolean,raised:Boolean,shaped:Boolean},computed:{classes:function(){return h(h({"v-card":!0},l.a.options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--outlined":this.outlined,"v-card--raised":this.raised,"v-card--shaped":this.shaped},o.a.options.computed.classes.call(this))},styles:function(){var style=h({},o.a.options.computed.styles.call(this));return this.img&&(style.background='url("'.concat(this.img,'") center center / cover no-repeat')),style}},methods:{genProgress:function(){var e=c.a.options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),r=t.tag,data=t.data;return data.style=this.styles,this.isClickable&&(data.attrs=data.attrs||{},data.attrs.tabindex=0),e(r,this.setBackgroundColor(this.color,data),[this.genProgress(),this.$slots.default])}})},315:function(e,t,r){},316:function(e,t,r){},318:function(e,t,r){"use strict";r(48);var n=r(12),o=r(21),c=r(34),l=r(59),d=r.n(l),m=r(136),h=function(){function e(){Object(o.a)(this,e)}var t,r,l,h,f;return Object(c.a)(e,null,[{key:"getTopicContainerData",value:(f=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            query GetTopicContainerData($userIdVar: String!, $topicNameVar: String!) {\n                getTopicFromTopicName(topicName: $topicNameVar){\n                    name\n                    description\n                    thumbnailLink\n                    followersCount\n                    posts {\n                        id\n                        title\n                        caption\n                    }\n                }\n                checkIfTopicIsFollowedByUser(userId: $userIdVar, topicName: $topicNameVar)\n            }\n        ",operationName:"GetTopicContainerData",variables:{userIdVar:t,topicNameVar:r}});case 3:if(!(n=e.sent)||!n.data){e.next=8;break}return e.abrupt("return",n.data);case 8:throw new Error("Some error occurred while fetching topic container data");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return f.apply(this,arguments)})},{key:"getTopicContainerDataWithoutUser",value:(h=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            query GetTopicContainerDataWithoutUser($topicNameVar: String!) {\n                getTopicFromTopicName(topicName: $topicNameVar) {\n                    name\n                    description\n                    thumbnailLink\n                    followersCount\n                    posts {\n                        id\n                        title\n                        caption\n                    }\n                }\n            }\n        ",operationName:"GetTopicContainerDataWithoutUser",variables:{topicNameVar:t}});case 3:if(!(r=e.sent)||!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Some error occurred while fetching topic container data");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e){return h.apply(this,arguments)})},{key:"checkIfTopicIsFollowedByUser",value:(l=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            query CheckIfTopicIsFollowedByUser($userIdVar: String!, $topicNameVar: String!) {      \n                checkIfTopicIsFollowedByUser(userId: $userIdVar, topicName: $topicNameVar)\n            }\n        ",operationName:"CheckIfTopicIsFollowedByUser",variables:{userIdVar:t,topicNameVar:r}});case 3:if(!(n=e.sent)||!n.data){e.next=8;break}return e.abrupt("return",n.data);case 8:throw new Error("Some error occurred while checking if topic is followed by user");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return l.apply(this,arguments)})},{key:"followTopic",value:(r=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            mutation FollowTopic($userIdVar: String!, $topicNameVar: String!) {\n                followTopic(userId: $userIdVar, topicName: $topicNameVar) {\n                    name\n                }\n            }\n        ",operationName:"FollowTopic",variables:{userIdVar:t,topicNameVar:r}});case 3:if(!(n=e.sent)||!n.data){e.next=8;break}return e.abrupt("return",n.data);case 8:throw new Error("Some error occurred while following topic");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return r.apply(this,arguments)})},{key:"unfollowTopic",value:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            mutation UnfollowTopic($userIdVar: String!, $topicNameVar: String!) {\n                unfollowTopic(userId: $userIdVar, topicName: $topicNameVar) {\n                    name\n                }\n            }\n        ",operationName:"UnfollowTopic",variables:{userIdVar:t,topicNameVar:r}});case 3:if(!(n=e.sent)||!n.data){e.next=8;break}return e.abrupt("return",n.data);case 8:throw new Error("Some error occurred while following topic");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,r){return t.apply(this,arguments)})}]),e}();t.a=h},324:function(e,t,r){"use strict";var n=r(316);r.n(n).a},328:function(e,t,r){},330:function(e,t,r){"use strict";r(58),r(90);var n={name:"PostCard",components:{},props:{postId:{type:String,default:null},postTopicName:{type:String,default:null},postTitle:{type:String,default:null},postCaption:{type:String,default:null}},computed:{getTopicName:function(){return this.$props.postTopicName.match(/[A-Z][a-z]+|[0-9]+/g).join(" ").toUpperCase()}},methods:{goToBlogPost:function(){return this.$router.push("/"+this.$props.postTopicName+"/"+this.$props.postTitle.split(" ").join("_")+"--"+this.$props.postId)}}},o=(r(324),r(49)),c=r(89),l=r.n(c),d=r(314),m=r(311),h=r(125),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"post-card",on:{click:function(t){return e.goToBlogPost()}}},[r("v-card-subtitle",{staticClass:"pb-0",staticStyle:{"letter-spacing":"1px"}},[e._v("\n    "+e._s(e.getTopicName)+"\n  ")]),e._v(" "),r("v-responsive",{staticClass:"px-4 pt-2 pb-0 title",staticStyle:{"line-height":"28px"}},[e._v("\n    "+e._s(e.postTitle)+"\n  ")]),e._v(" "),r("v-card-text",{staticClass:"pt-3"},[e._v("\n    "+e._s(e.postCaption)+"\n  ")])],1)}),[],!1,null,"190f3ae7",null);t.a=component.exports;l()(component,{VCard:d.a,VCardSubtitle:m.a,VCardText:m.b,VResponsive:h.a})},372:function(e,t,r){"use strict";var n=r(328);r.n(n).a},396:function(e,t,r){"use strict";r.r(t);r(26),r(90),r(48);var n=r(12),o=r(318),c={name:"TopicContainer",layout:"default",watchQuery:!0,components:{PostCard:r(330).a},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.params,n=e.store,c=e.error,t.prev=1,null==n.state.currentUser){t.next=13;break}return t.next=5,o.a.getTopicContainerData(n.state.currentUser.uid,r.topicName);case 5:if(!(l=t.sent)||!l.data||l.errors||null==l.data.getTopicFromTopicName){t.next=10;break}return t.abrupt("return",{apolloData:l.data});case 10:c({statusCode:404,message:"Topic not found"});case 11:t.next=21;break;case 13:return t.next=15,o.a.getTopicContainerDataWithoutUser(r.topicName);case 15:if(!(d=t.sent)||!d.data){t.next=20;break}return t.abrupt("return",{apolloData:d.data});case 20:throw new Error("Some error occurred in apolloData");case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(1),t.t0({statusCode:404,message:"Topic not found"});case 26:case"end":return t.stop()}}),t,null,[[1,23]])})))()},computed:{getTopicName:function(){return this.apolloData.getTopicFromTopicName.name.match(/[A-Z][a-z]+|[0-9]+/g).join(" ")}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.apolloData.checkIfTopicIsFollowedByUser;case 2:r=t.sent,n=document.getElementById("follow-btn"),o=document.getElementById("unfollow-btn"),r?o.style="display: initial;":n.style="display: initial;";case 6:case"end":return t.stop()}}),t)})))()},methods:{followTopic:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.$store.state.currentUser.uid||null==e.$store.state.currentUser.uid){t.next=17;break}return t.next=4,o.a.followTopic(e.$store.state.currentUser.uid,e.$route.params.topicName);case 4:if(t.sent.data){t.next=7;break}throw new Error("Some error occurred while following topic");case 7:r=document.getElementById("follow-btn"),n=document.getElementById("unfollow-btn"),r.style="display: none;",n.style="display: initial;",c=document.getElementById("follow-count"),l=document.getElementById("follow-count-increment"),d=document.getElementById("follow-count-decrement"),e.apolloData.checkIfTopicIsFollowedByUser?(c.style="display: initial;",l.style="display: none;",d.style="display: none;"):(c.style="display: none;",l.style="display: initial;",d.style="display: none;"),t.next=18;break;case 17:return t.abrupt("return",e.$router.push("/signUp"));case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},unfollowTopic:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.$store.state.currentUser.uid||null==e.$store.state.currentUser.uid){t.next=17;break}return t.next=4,o.a.unfollowTopic(e.$store.state.currentUser.uid,e.$route.params.topicName);case 4:if(t.sent.data){t.next=7;break}throw new Error("Some error occurred while unfollowing topic");case 7:r=document.getElementById("follow-btn"),n=document.getElementById("unfollow-btn"),r.style="display: initial;",n.style="display: none;",c=document.getElementById("follow-count"),l=document.getElementById("follow-count-increment"),d=document.getElementById("follow-count-decrement"),e.apolloData.checkIfTopicIsFollowedByUser?(c.style="display: none;",l.style="display: none;",d.style="display: initial;"):(c.style="display: initial;",l.style="display: none;",d.style="display: none;"),t.next=18;break;case 17:return t.abrupt("return",e.$router.push("/signUp"));case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()}},head:function(){return{title:this.apolloData.getTopicFromTopicName.name.match(/[A-Z][a-z]+|[0-9]+/g).join(" "),meta:[{hid:"description",name:"description",content:this.apolloData.getTopicFromTopicName.description}]}}},l=(r(372),r(49)),d=r(89),m=r.n(d),h=r(296),f=r(294),v=r(193),y=r(83),w=r(128),_=r(129),k=r(36),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ma-0 pa-0"},[r("div",{staticClass:"mb-6 px-2"},[r("v-list-item",{staticClass:"pl-1"},[r("v-list-item-avatar",{attrs:{size:"14%",left:""}},[r("v-img",{attrs:{src:e.apolloData.getTopicFromTopicName.thumbnailLink,alt:e.getTopicName+"Thumbnail"}})],1),e._v(" "),r("span",{staticClass:"mr-4"},[r("v-list-item-title",{staticClass:"font-weight-bold mb-1 topic-name"},[r("h1",{staticClass:"font-weight-bold headline"},[e._v(e._s(e.getTopicName))])]),e._v(" "),r("v-list-item-subtitle",{staticClass:"font-weight-light followers-count"},[r("span",{attrs:{id:"follow-count"}},[e._v(e._s(e.apolloData.getTopicFromTopicName.followersCount))]),e._v(" "),r("span",{staticStyle:{display:"none"},attrs:{id:"follow-count-increment"}},[e._v(e._s(e.apolloData.getTopicFromTopicName.followersCount+1))]),e._v(" "),r("span",{staticStyle:{display:"none"},attrs:{id:"follow-count-decrement"}},[e._v(e._s(e.apolloData.getTopicFromTopicName.followersCount-1))]),e._v(" "),r("span",[e._v("Following")])])],1),e._v(" "),r("v-list-item-action",{staticClass:"d-flex justify-center"},[r("v-btn",{attrs:{id:"follow-btn",small:"",outlined:""},on:{click:function(t){return e.followTopic()}}},[e._v("\n          Follow\n        ")]),e._v(" "),r("v-btn",{staticClass:"elevation-0",attrs:{id:"unfollow-btn",small:"",color:"primary"},on:{click:function(t){return e.unfollowTopic()}}},[e._v("\n          Following\n        ")])],1)],1),e._v(" "),r("h3",{staticClass:"font-weight-regular topic-description",staticStyle:{"font-size":"18px"}},[e._v("\n      "+e._s(e.apolloData.getTopicFromTopicName.description)+"\n    ")])],1),e._v(" "),r("v-divider"),e._v(" "),r("div",{staticClass:"posts-grid-container"},e._l(e.apolloData.getTopicFromTopicName.posts,(function(t){return r("div",{key:t.id,staticClass:"ma-0 pa-0"},[r("post-card",{attrs:{"post-topic-name":e.apolloData.getTopicFromTopicName.name,"post-id":t.id,"post-title":t.title,"post-caption":t.caption}})],1)})),0)],1)}),[],!1,null,"04c4c1a1",null);t.default=component.exports;m()(component,{VBtn:h.a,VDivider:f.a,VImg:v.a,VListItem:y.a,VListItemAction:w.a,VListItemAvatar:_.a,VListItemSubtitle:k.b,VListItemTitle:k.c})}}]);