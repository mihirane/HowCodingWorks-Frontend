(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{316:function(t,e,n){},317:function(t,e,n){},318:function(t,e,n){"use strict";n(48);var r=n(12),o=n(21),c=n(34),l=n(59),d=n.n(l),m=n(136),f=function(){function t(){Object(o.a)(this,t)}var e,n,l,f,v;return Object(c.a)(t,null,[{key:"getTopicContainerData",value:(v=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            query GetTopicContainerData($userIdVar: String!, $topicNameVar: String!) {\n                getTopicFromTopicName(topicName: $topicNameVar){\n                    name\n                    description\n                    thumbnailLink\n                    followersCount\n                    posts {\n                        id\n                        title\n                        caption\n                    }\n                }\n                checkIfTopicIsFollowedByUser(userId: $userIdVar, topicName: $topicNameVar)\n            }\n        ",operationName:"GetTopicContainerData",variables:{userIdVar:e,topicNameVar:n}});case 3:if(!(r=t.sent)||!r.data){t.next=8;break}return t.abrupt("return",r.data);case 8:throw new Error("Some error occurred while fetching topic container data");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.response.data.errors);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),function(t,e){return v.apply(this,arguments)})},{key:"getTopicContainerDataWithoutUser",value:(f=Object(r.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            query GetTopicContainerDataWithoutUser($topicNameVar: String!) {\n                getTopicFromTopicName(topicName: $topicNameVar) {\n                    name\n                    description\n                    thumbnailLink\n                    followersCount\n                    posts {\n                        id\n                        title\n                        caption\n                    }\n                }\n            }\n        ",operationName:"GetTopicContainerDataWithoutUser",variables:{topicNameVar:e}});case 3:if(!(n=t.sent)||!n.data){t.next=8;break}return t.abrupt("return",n.data);case 8:throw new Error("Some error occurred while fetching topic container data");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.response.data.errors);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),function(t){return f.apply(this,arguments)})},{key:"checkIfTopicIsFollowedByUser",value:(l=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            query CheckIfTopicIsFollowedByUser($userIdVar: String!, $topicNameVar: String!) {      \n                checkIfTopicIsFollowedByUser(userId: $userIdVar, topicName: $topicNameVar)\n            }\n        ",operationName:"CheckIfTopicIsFollowedByUser",variables:{userIdVar:e,topicNameVar:n}});case 3:if(!(r=t.sent)||!r.data){t.next=8;break}return t.abrupt("return",r.data);case 8:throw new Error("Some error occurred while checking if topic is followed by user");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.response.data.errors);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),function(t,e){return l.apply(this,arguments)})},{key:"followTopic",value:(n=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            mutation FollowTopic($userIdVar: String!, $topicNameVar: String!) {\n                followTopic(userId: $userIdVar, topicName: $topicNameVar) {\n                    name\n                }\n            }\n        ",operationName:"FollowTopic",variables:{userIdVar:e,topicNameVar:n}});case 3:if(!(r=t.sent)||!r.data){t.next=8;break}return t.abrupt("return",r.data);case 8:throw new Error("Some error occurred while following topic");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.response.data.errors);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),function(t,e){return n.apply(this,arguments)})},{key:"unfollowTopic",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            mutation UnfollowTopic($userIdVar: String!, $topicNameVar: String!) {\n                unfollowTopic(userId: $userIdVar, topicName: $topicNameVar) {\n                    name\n                }\n            }\n        ",operationName:"UnfollowTopic",variables:{userIdVar:e,topicNameVar:n}});case 3:if(!(r=t.sent)||!r.data){t.next=8;break}return t.abrupt("return",r.data);case 8:throw new Error("Some error occurred while following topic");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),function(t,n){return e.apply(this,arguments)})}]),t}();e.a=f},324:function(t,e,n){"use strict";var r=n(316);n.n(r).a},325:function(t,e,n){"use strict";var r=n(317);n.n(r).a},326:function(t,e,n){},330:function(t,e,n){"use strict";n(58),n(90);var r={name:"PostCard",components:{},props:{postId:{type:String,default:null},postTopicName:{type:String,default:null},postTitle:{type:String,default:null},postCaption:{type:String,default:null}},computed:{getTopicName:function(){return this.$props.postTopicName.match(/[A-Z][a-z]+|[0-9]+/g).join(" ").toUpperCase()}},methods:{goToBlogPost:function(){return this.$router.push("/"+this.$props.postTopicName+"/"+this.$props.postTitle.split(" ").join("_")+"--"+this.$props.postId)}}},o=(n(324),n(49)),c=n(89),l=n.n(c),d=n(314),m=n(311),f=n(125),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"post-card",on:{click:function(e){return t.goToBlogPost()}}},[n("v-card-subtitle",{staticClass:"pb-0",staticStyle:{"letter-spacing":"1px"}},[t._v("\n    "+t._s(t.getTopicName)+"\n  ")]),t._v(" "),n("v-responsive",{staticClass:"px-4 pt-2 pb-0 title",staticStyle:{"line-height":"28px"}},[t._v("\n    "+t._s(t.postTitle)+"\n  ")]),t._v(" "),n("v-card-text",{staticClass:"pt-3"},[t._v("\n    "+t._s(t.postCaption)+"\n  ")])],1)}),[],!1,null,"190f3ae7",null);e.a=component.exports;l()(component,{VCard:d.a,VCardSubtitle:m.a,VCardText:m.b,VResponsive:f.a})},331:function(t,e,n){"use strict";n(48);var r=n(12),o=(n(90),n(22),n(318)),c={name:"TopicCard",props:{topicName:{type:String,default:null},topicThumbnailLink:{type:String,default:null},topicFollowersCount:{type:Number,default:0},hasUserFollowedTopic:{type:Boolean,default:!1}},computed:{getTopicName:function(){return this.$props.topicName.match(/[A-Z][a-z]+|[0-9]+/g).join(" ")}},mounted:function(){var t=document.getElementById("follow-btn"),e=document.getElementById("unfollow-btn");this.$props.hasUserFollowedTopic?(t.style="display: none;",e.style="display: initial;"):(t.style="display: initial;",e.style="display: none;")},methods:{navigateToTopic:function(){return this.$router.push("/"+this.$props.topicName)},followTopic:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.$store.state.currentUser.uid||null==t.$store.state.currentUser.uid){e.next=17;break}return e.next=4,o.a.followTopic(t.$store.state.currentUser.uid,t.$props.topicName);case 4:if(e.sent.data){e.next=7;break}throw new Error("Some error occurred while following topic");case 7:n=document.getElementById("follow-btn"),r=document.getElementById("unfollow-btn"),n.style="display: none;",r.style="display: initial;",c=document.getElementById("follow-count"),l=document.getElementById("follow-count-increment"),d=document.getElementById("follow-count-decrement"),t.$props.hasUserFollowedTopic?(c.style="display: initial;",l.style="display: none;",d.style="display: none;"):(c.style="display: none;",l.style="display: initial;",d.style="display: none;"),e.next=18;break;case 17:t.$router.push("/signUp");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))()},unfollowTopic:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.$store.state.currentUser.uid||null==t.$store.state.currentUser.uid){e.next=17;break}return e.next=4,o.a.unfollowTopic(t.$store.state.currentUser.uid,t.$props.topicName);case 4:if(e.sent.data){e.next=7;break}throw new Error("Some error occurred while unfollowing topic");case 7:n=document.getElementById("follow-btn"),r=document.getElementById("unfollow-btn"),n.style="display: initial;",r.style="display: none;",c=document.getElementById("follow-count"),l=document.getElementById("follow-count-increment"),d=document.getElementById("follow-count-decrement"),t.$props.hasUserFollowedTopic?(c.style="display: none;",l.style="display: none;",d.style="display: initial;"):(c.style="display: initial;",l.style="display: none;",d.style="display: none;"),e.next=18;break;case 17:t.$router.push("/signUp");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))()}}},l=(n(325),n(49)),d=n(89),m=n.n(d),f=n(296),v=n(193),w=n(83),y=n(128),h=n(129),T=n(36),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-item",[n("v-list-item-avatar",{attrs:{size:"52px",left:""},on:{click:function(e){return t.navigateToTopic()}}},[n("v-img",{attrs:{src:t.$props.topicThumbnailLink,alt:t.getTopicName+"Thumbnail"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{staticClass:"mb-0 pb-0 title",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.navigateToTopic()}}},[t._v("\n      "+t._s(t.getTopicName)+"\n    ")]),t._v(" "),n("v-list-item-subtitle",{staticClass:"font-weight-light subtitle-1"},[n("span",{attrs:{id:"follow-count"}},[t._v(t._s(t.$props.topicFollowersCount))]),t._v(" "),n("span",{staticStyle:{display:"none"},attrs:{id:"follow-count-increment"}},[t._v(t._s(t.$props.topicFollowersCount+1))]),t._v(" "),n("span",{staticStyle:{display:"none"},attrs:{id:"follow-count-decrement"}},[t._v(t._s(t.$props.topicFollowersCount-1))]),t._v(" "),n("span",[t._v("Following")])])],1),t._v(" "),n("v-list-item-action",{staticClass:"d-flex justify-center"},[n("v-btn",{attrs:{id:"follow-btn",small:"",outlined:""},on:{click:function(e){return t.followTopic()}}},[t._v("\n      Follow\n    ")]),t._v(" "),n("v-btn",{staticClass:"elevation-0",attrs:{id:"unfollow-btn",small:"",color:"primary"},on:{click:function(e){return t.unfollowTopic()}}},[t._v("\n      Following\n    ")])],1)],1)}),[],!1,null,"b4990a7a",null);e.a=component.exports;m()(component,{VBtn:f.a,VImg:v.a,VListItem:w.a,VListItemAction:y.a,VListItemAvatar:h.a,VListItemContent:T.a,VListItemSubtitle:T.b,VListItemTitle:T.c})},368:function(t,e,n){"use strict";var r=n(326);n.n(r).a},393:function(t,e,n){"use strict";n.r(e);n(48);var r=n(12),o=n(330),c=n(331),l=n(21),d=n(34),m=n(59),f=n.n(m),v=n(136),w=function(){function t(){Object(l.a)(this,t)}var e;return Object(d.a)(t,null,[{key:"getUserProfileData",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post(v.graphqlEndpoint,{query:"\n            query GetUserProfileData($userIdVar: String!) {\n                getAllSavedPostsByUser(userId: $userIdVar) {\n                    id\n                    title\n                    caption\n                    topic {\n                        name\n                    }\n                }\n\n                getAllFollowedTopicsByUser(userId: $userIdVar) {\n                    name\n                    thumbnailLink\n                    followersCount\n                }\n              }\n          ",operationName:"GetUserProfileData",variables:{userIdVar:e}});case 3:if(!(n=t.sent)||!n.data){t.next=8;break}return t.abrupt("return",n.data);case 8:throw new Error("Some error occurred while fetching user profile data");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.response.data.errors);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),function(t){return e.apply(this,arguments)})}]),t}(),y={name:"Profile",layout:"default",middleware:"auth",components:{PostCard:o.a,TopicCard:c.a},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.params,n=t.store,e.prev=1,e.next=4,w.getUserProfileData(n.state.currentUser.uid);case 4:if(!(r=e.sent)||!r.data){e.next=9;break}return e.abrupt("return",{apolloData:r.data});case 9:throw new Error("Some error occurred in apolloData");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))()},data:function(){return{tab:null}}},h=(n(368),n(49)),T=n(89),k=n.n(T),x=n(126),I=n(294),$=n(388),V=n(400),_=n(398),C=n(380),component=Object(h.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ma-0 pa-0"},[n("div",{staticClass:"d-flex flex-column align-center justify-space-between mb-8"},[n("v-avatar",{staticClass:"mb-4",attrs:{size:"80"}},[n("img",{attrs:{src:t.$store.state.currentUser.photoURL,alt:t.$store.state.currentUser.displayName}})]),t._v(" "),n("span",{staticClass:"headline font-weight-bold"},[t._v(t._s(t.$store.state.currentUser.displayName))]),t._v(" "),n("span",{staticClass:"subtitle-1",staticStyle:{color:"grey"}},[t._v(t._s(t.$store.state.currentUser.email))])],1),t._v(" "),n("v-tabs",{attrs:{"background-color":"#121212"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",[t._v("Saved Posts")]),t._v(" "),n("v-tab",[t._v("Followed Topics")])],1),t._v(" "),n("v-divider"),t._v(" "),n("v-tabs-items",{staticClass:"pt-1",staticStyle:{backgroundColor:"#121212"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{staticClass:"px-3"},[n("div",{staticClass:"posts-grid-container"},t._l(t.apolloData.getAllSavedPostsByUser,(function(t){return n("div",{key:t.id,staticClass:"ma-0 pa-0"},[n("post-card",{attrs:{"post-topic-name":t.topic.name,"post-id":t.id,"post-title":t.title,"post-caption":t.caption}})],1)})),0)]),t._v(" "),n("v-tab-item",t._l(t.apolloData.getAllFollowedTopicsByUser,(function(t){return n("div",{key:t.name,staticClass:"ma-0 pa-0"},[n("topic-card",{attrs:{"topic-name":t.name,"topic-thumbnail-link":t.thumbnailLink,"topic-followers-count":t.followersCount,"has-user-followed-topic":!0}})],1)})),0)],1)],1)}),[],!1,null,"8095700a",null);e.default=component.exports;k()(component,{VAvatar:x.a,VDivider:I.a,VTab:$.a,VTabItem:V.a,VTabs:_.a,VTabsItems:C.a})}}]);