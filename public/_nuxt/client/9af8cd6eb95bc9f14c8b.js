(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{312:function(e,t,n){"use strict";n(22);var r=n(0),o=(n(11),n(10),n(7),n(4),n(9),n(139),n(2)),c=(n(313),n(138)),l=n(27),d=n(68),m=n(140),f=n(23),h=n(1),v=n(8);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var k=Object(v.a)(l.a,Object(d.b)(["absolute","fixed","top","bottom"]),m.a,f.a).extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(h.f)(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(h.f)(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var e;return e={opacity:null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity)},Object(o.a)(e,this.$vuetify.rtl?"right":"left",Object(h.f)(this.normalizedValue,"%")),Object(o.a)(e,"width",Object(h.f)(this.normalizedBuffer-this.normalizedValue,"%")),e},classes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?c.c:c.d},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=Object(h.f)(this.normalizedBuffer,"%")),e}},methods:{genContent:function(){var slot=Object(h.m)(this,"default",{value:this.internalLazyValue});return slot?this.$createElement("div",{staticClass:"v-progress-linear__content"},slot):null},genListeners:function(){var e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar:function(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(o.a)({},e,!0)}))},onClick:function(e){if(this.reactive){var t=this.$el.getBoundingClientRect().width;this.internalValue=e.offsetX/t*100}},normalize:function(e){return e<0?0:e>100?100:parseFloat(e)}},render:function(e){return e("div",{staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(h.f)(this.height):0,top:this.top?0:void 0},on:this.genListeners()},[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}});t.a=r.a.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(k,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},313:function(e,t,n){},314:function(e,t,n){"use strict";n(11),n(10),n(7),n(4),n(9);var r=n(2),o=(n(22),n(315),n(141)),c=n(312),l=n(63),d=n(8);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(d.a)(c.a,l.a,o.a).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},outlined:Boolean,raised:Boolean,shaped:Boolean},computed:{classes:function(){return f(f({"v-card":!0},l.a.options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--outlined":this.outlined,"v-card--raised":this.raised,"v-card--shaped":this.shaped},o.a.options.computed.classes.call(this))},styles:function(){var style=f({},o.a.options.computed.styles.call(this));return this.img&&(style.background='url("'.concat(this.img,'") center center / cover no-repeat')),style}},methods:{genProgress:function(){var e=c.a.options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render:function(e){var t=this.generateRouteLink(),n=t.tag,data=t.data;return data.style=this.styles,this.isClickable&&(data.attrs=data.attrs||{},data.attrs.tabindex=0),e(n,this.setBackgroundColor(this.color,data),[this.genProgress(),this.$slots.default])}})},315:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){"use strict";n(48);var r=n(12),o=n(21),c=n(34),l=n(59),d=n.n(l),m=n(136),f=function(){function e(){Object(o.a)(this,e)}var t,n,l,f,h;return Object(c.a)(e,null,[{key:"getTopicContainerData",value:(h=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            query GetTopicContainerData($userIdVar: String!, $topicNameVar: String!) {\n                getTopicFromTopicName(topicName: $topicNameVar){\n                    name\n                    description\n                    thumbnailLink\n                    followersCount\n                    posts {\n                        id\n                        title\n                        caption\n                    }\n                }\n                checkIfTopicIsFollowedByUser(userId: $userIdVar, topicName: $topicNameVar)\n            }\n        ",operationName:"GetTopicContainerData",variables:{userIdVar:t,topicNameVar:n}});case 3:if(!(r=e.sent)||!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Some error occurred while fetching topic container data");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return h.apply(this,arguments)})},{key:"getTopicContainerDataWithoutUser",value:(f=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            query GetTopicContainerDataWithoutUser($topicNameVar: String!) {\n                getTopicFromTopicName(topicName: $topicNameVar) {\n                    name\n                    description\n                    thumbnailLink\n                    followersCount\n                    posts {\n                        id\n                        title\n                        caption\n                    }\n                }\n            }\n        ",operationName:"GetTopicContainerDataWithoutUser",variables:{topicNameVar:t}});case 3:if(!(n=e.sent)||!n.data){e.next=8;break}return e.abrupt("return",n.data);case 8:throw new Error("Some error occurred while fetching topic container data");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e){return f.apply(this,arguments)})},{key:"checkIfTopicIsFollowedByUser",value:(l=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            query CheckIfTopicIsFollowedByUser($userIdVar: String!, $topicNameVar: String!) {      \n                checkIfTopicIsFollowedByUser(userId: $userIdVar, topicName: $topicNameVar)\n            }\n        ",operationName:"CheckIfTopicIsFollowedByUser",variables:{userIdVar:t,topicNameVar:n}});case 3:if(!(r=e.sent)||!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Some error occurred while checking if topic is followed by user");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return l.apply(this,arguments)})},{key:"followTopic",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            mutation FollowTopic($userIdVar: String!, $topicNameVar: String!) {\n                followTopic(userId: $userIdVar, topicName: $topicNameVar) {\n                    name\n                }\n            }\n        ",operationName:"FollowTopic",variables:{userIdVar:t,topicNameVar:n}});case 3:if(!(r=e.sent)||!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Some error occurred while following topic");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return n.apply(this,arguments)})},{key:"unfollowTopic",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post(m.graphqlEndpoint,{query:"\n            mutation UnfollowTopic($userIdVar: String!, $topicNameVar: String!) {\n                unfollowTopic(userId: $userIdVar, topicName: $topicNameVar) {\n                    name\n                }\n            }\n        ",operationName:"UnfollowTopic",variables:{userIdVar:t,topicNameVar:n}});case 3:if(!(r=e.sent)||!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Some error occurred while following topic");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,n){return t.apply(this,arguments)})}]),e}();t.a=f},325:function(e,t,n){"use strict";var r=n(317);n.n(r).a},329:function(e,t,n){},331:function(e,t,n){"use strict";n(48);var r=n(12),o=(n(90),n(22),n(318)),c={name:"TopicCard",props:{topicName:{type:String,default:null},topicThumbnailLink:{type:String,default:null},topicFollowersCount:{type:Number,default:0},hasUserFollowedTopic:{type:Boolean,default:!1}},computed:{getTopicName:function(){return this.$props.topicName.match(/[A-Z][a-z]+|[0-9]+/g).join(" ")}},mounted:function(){var e=document.getElementById("follow-btn"),t=document.getElementById("unfollow-btn");this.$props.hasUserFollowedTopic?(e.style="display: none;",t.style="display: initial;"):(e.style="display: initial;",t.style="display: none;")},methods:{navigateToTopic:function(){return this.$router.push("/"+this.$props.topicName)},followTopic:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.$store.state.currentUser.uid||null==e.$store.state.currentUser.uid){t.next=17;break}return t.next=4,o.a.followTopic(e.$store.state.currentUser.uid,e.$props.topicName);case 4:if(t.sent.data){t.next=7;break}throw new Error("Some error occurred while following topic");case 7:n=document.getElementById("follow-btn"),r=document.getElementById("unfollow-btn"),n.style="display: none;",r.style="display: initial;",c=document.getElementById("follow-count"),l=document.getElementById("follow-count-increment"),d=document.getElementById("follow-count-decrement"),e.$props.hasUserFollowedTopic?(c.style="display: initial;",l.style="display: none;",d.style="display: none;"):(c.style="display: none;",l.style="display: initial;",d.style="display: none;"),t.next=18;break;case 17:e.$router.push("/signUp");case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},unfollowTopic:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.$store.state.currentUser.uid||null==e.$store.state.currentUser.uid){t.next=17;break}return t.next=4,o.a.unfollowTopic(e.$store.state.currentUser.uid,e.$props.topicName);case 4:if(t.sent.data){t.next=7;break}throw new Error("Some error occurred while unfollowing topic");case 7:n=document.getElementById("follow-btn"),r=document.getElementById("unfollow-btn"),n.style="display: initial;",r.style="display: none;",c=document.getElementById("follow-count"),l=document.getElementById("follow-count-increment"),d=document.getElementById("follow-count-decrement"),e.$props.hasUserFollowedTopic?(c.style="display: none;",l.style="display: none;",d.style="display: initial;"):(c.style="display: initial;",l.style="display: none;",d.style="display: none;"),t.next=18;break;case 17:e.$router.push("/signUp");case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()}}},l=(n(325),n(49)),d=n(89),m=n.n(d),f=n(296),h=n(193),v=n(83),y=n(128),k=n(129),w=n(36),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-item",[n("v-list-item-avatar",{attrs:{size:"52px",left:""},on:{click:function(t){return e.navigateToTopic()}}},[n("v-img",{attrs:{src:e.$props.topicThumbnailLink,alt:e.getTopicName+"Thumbnail"}})],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",{staticClass:"mb-0 pb-0 title",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.navigateToTopic()}}},[e._v("\n      "+e._s(e.getTopicName)+"\n    ")]),e._v(" "),n("v-list-item-subtitle",{staticClass:"font-weight-light subtitle-1"},[n("span",{attrs:{id:"follow-count"}},[e._v(e._s(e.$props.topicFollowersCount))]),e._v(" "),n("span",{staticStyle:{display:"none"},attrs:{id:"follow-count-increment"}},[e._v(e._s(e.$props.topicFollowersCount+1))]),e._v(" "),n("span",{staticStyle:{display:"none"},attrs:{id:"follow-count-decrement"}},[e._v(e._s(e.$props.topicFollowersCount-1))]),e._v(" "),n("span",[e._v("Following")])])],1),e._v(" "),n("v-list-item-action",{staticClass:"d-flex justify-center"},[n("v-btn",{attrs:{id:"follow-btn",small:"",outlined:""},on:{click:function(t){return e.followTopic()}}},[e._v("\n      Follow\n    ")]),e._v(" "),n("v-btn",{staticClass:"elevation-0",attrs:{id:"unfollow-btn",small:"",color:"primary"},on:{click:function(t){return e.unfollowTopic()}}},[e._v("\n      Following\n    ")])],1)],1)}),[],!1,null,"b4990a7a",null);t.a=component.exports;m()(component,{VBtn:f.a,VImg:h.a,VListItem:v.a,VListItemAction:y.a,VListItemAvatar:k.a,VListItemContent:w.a,VListItemSubtitle:w.b,VListItemTitle:w.c})},373:function(e,t,n){"use strict";var r=n(374),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(text,e){var t,n,c,l,d,mark,m=!1;e||(e={}),t=e.debug||!1;try{if(c=r(),l=document.createRange(),d=document.getSelection(),(mark=document.createElement("span")).textContent=text,mark.style.all="unset",mark.style.position="fixed",mark.style.top=0,mark.style.clip="rect(0, 0, 0, 0)",mark.style.whiteSpace="pre",mark.style.webkitUserSelect="text",mark.style.MozUserSelect="text",mark.style.msUserSelect="text",mark.style.userSelect="text",mark.addEventListener("copy",(function(n){if(n.stopPropagation(),e.format)if(n.preventDefault(),void 0===n.clipboardData){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=o[e.format]||o.default;window.clipboardData.setData(r,text)}else n.clipboardData.clearData(),n.clipboardData.setData(e.format,text);e.onCopy&&(n.preventDefault(),e.onCopy(n.clipboardData))})),document.body.appendChild(mark),l.selectNodeContents(mark),d.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");m=!0}catch(r){t&&console.error("unable to copy using execCommand: ",r),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",text),e.onCopy&&e.onCopy(window.clipboardData),m=!0}catch(r){t&&console.error("unable to copy using clipboardData: ",r),t&&console.error("falling back to prompt"),n=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in e?e.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,text)}}finally{d&&("function"==typeof d.removeRange?d.removeRange(l):d.removeAllRanges()),mark&&document.body.removeChild(mark),c()}return m}},374:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},375:function(e,t,n){n(60);var r=n(376),o=n(377),c=function(){"use strict";function e(){r(this,e)}return o(e,null,[{key:"createParagraph",value:function(data){return"<p>".concat(data.text,"</p>")}},{key:"createImageElement",value:function(data){return"\n      <div style='text-align: center; margin: 32px 0px;'>\n        <img src='".concat(data.file.url,"' style='width: 100%; margin: auto;'>\n        <span style='font-size: 16px; color: grey; font-weight: 300;'>").concat(data.caption,"</span>\n      </div>\n    ")}},{key:"createList",value:function(data){var e="";return data.items.forEach((function(t){e+="<li>".concat(t,"</li>\n")})),"unordered"===data.style?"<ul>".concat(e,"</ul>"):"<ol>".concat(e,"</ol>")}},{key:"createCodeContainer",value:function(data){return"\n      <div style='margin: 32px 16px; padding: 16px; background-color: #212121; color: #ffffff; border-radius: 4px; font-size: 18px; font-family: 'Source Code Pro', monospace; overflow: scroll;'>\n        ".concat(data.code.replace(/(?:\r\n|\r|\n)/g,"<br>"),"\n      </div>\n    ")}}]),e}();e.exports=function(e){var t="";return e&&e.forEach((function(e){"paragraph"===e.type?t+=c.createParagraph(e.data):"image"===e.type?t+=c.createImageElement(e.data):"list"===e.type?t+=c.createList(e.data):"code"===e.type&&(t+=c.createCodeContainer(e.data))})),t}},376:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},377:function(e,t){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},378:function(e,t,n){"use strict";var r=n(329);n.n(r).a},379:function(e,t,n){},390:function(e,t,n){"use strict";n.r(t);n(26),n(90),n(58),n(48);var r=n(12),o=n(373),c=n.n(o),l=n(21),d=n(34),m=n(59),f=n.n(m),h=n(136),v=function(){function e(){Object(l.a)(this,e)}var t,n,o,c,m,v;return Object(d.a)(e,null,[{key:"getBlogPostData",value:(v=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post(h.graphqlEndpoint,{query:"\n            query GetBlogPostData($userIdVar: String!, $postIdVar: String!, $topicNameVar: String!) {\n                getPostFromId(postId: $postIdVar){\n                    id\n                    title\n                    caption\n                    description\n                    creationTime\n                    likesCount\n                    savedCount\n                }\n\n                getTopicFromTopicName(topicName: $topicNameVar){\n                    name\n                    description\n                    thumbnailLink\n                    followersCount\n                }\n\n                checkIfTopicIsFollowedByUser(userId: $userIdVar, topicName: $topicNameVar)\n                checkIfPostIsLikedByUser(userId: $userIdVar, postId: $postIdVar)\n                checkIfPostIsSavedByUser(userId: $userIdVar, postId: $postIdVar)\n\n                getLikesCountOnPost(postId: $postIdVar)\n                getSavedCountOnPost(postId: $postIdVar)\n              }\n          ",operationName:"GetBlogPostData",variables:{userIdVar:t,topicNameVar:n,postIdVar:r}});case 3:if(!(o=e.sent)||!o.data){e.next=8;break}return e.abrupt("return",o.data);case 8:throw new Error("Some error occurred while fetching topic container data");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t,n){return v.apply(this,arguments)})},{key:"getBlogPostDataWithoutUser",value:(m=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post(h.graphqlEndpoint,{query:"\n              query GetBlogPostDataWithoutUser($postIdVar: String!, $topicNameVar: String!) {\n                getPostFromId(postId: $postIdVar){\n                    id\n                    title\n                    caption\n                    description\n                    creationTime\n                    likesCount\n                    savedCount\n                }\n\n                getTopicFromTopicName(topicName: $topicNameVar){\n                    name\n                    description\n                    thumbnailLink\n                    followersCount\n                }\n\n                getLikesCountOnPost(postId: $postIdVar)\n                getSavedCountOnPost(postId: $postIdVar)\n              }\n          ",operationName:"GetBlogPostDataWithoutUser",variables:{topicNameVar:t,postIdVar:n}});case 3:if(!(r=e.sent)||!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Some error occurred while fetching topic container data");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return m.apply(this,arguments)})},{key:"likePost",value:(c=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post(h.graphqlEndpoint,{query:"\n            mutation LikePost($userIdVar: String!, $postIdVar: String!) {\n                likePost(userId: $userIdVar, postId: $postIdVar) {\n                    id\n                }\n            }\n        ",operationName:"LikePost",variables:{userIdVar:t,postIdVar:n}});case 3:if(!(r=e.sent)||!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Some error occurred while following topic");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return c.apply(this,arguments)})},{key:"dislikePost",value:(o=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post(h.graphqlEndpoint,{query:"\n            mutation DislikePost($userIdVar: String!, $postIdVar: String!) {\n                dislikePost(userId: $userIdVar, postId: $postIdVar) {\n                    id\n                }\n            }\n        ",operationName:"DislikePost",variables:{userIdVar:t,postIdVar:n}});case 3:if(!(r=e.sent)||!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Some error occurred while following topic");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return o.apply(this,arguments)})},{key:"savePost",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post(h.graphqlEndpoint,{query:"\n            mutation SavePost($userIdVar: String!, $postIdVar: String!) {\n                savePost(userId: $userIdVar, postId: $postIdVar) {\n                    id\n                }\n            }\n        ",operationName:"SavePost",variables:{userIdVar:t,postIdVar:n}});case 3:if(!(r=e.sent)||!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Some error occurred while following topic");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return n.apply(this,arguments)})},{key:"unsavePost",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post(h.graphqlEndpoint,{query:"\n            mutation UnsavePost($userIdVar: String!, $postIdVar: String!) {\n                unsavePost(userId: $userIdVar, postId: $postIdVar) {\n                    id\n                }\n            }\n        ",operationName:"UnsavePost",variables:{userIdVar:t,postIdVar:n}});case 3:if(!(r=e.sent)||!r.data){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Some error occurred while following topic");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.errors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,n){return t.apply(this,arguments)})}]),e}(),y=n(375),k=n.n(y),w=n(331),I=n(136),x={name:"BlogPost",layout:"default",watchQuery:!0,components:{TopicCard:w.a},asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,d,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params,r=e.store,o=e.error,c=n.topicName,l=n.postId.split("--")[1],null==r.state.currentUser){t.next=14;break}return t.next=6,v.getBlogPostData(r.state.currentUser.uid,c,l);case 6:if(!(d=t.sent)||!d.data||d.errors){t.next=11;break}return t.abrupt("return",{apolloData:d.data});case 11:o({statusCode:404,message:"Post not found"});case 12:t.next=22;break;case 14:return t.next=16,v.getBlogPostDataWithoutUser(c,l);case 16:if(!(m=t.sent)||!m.data||m.errors){t.next=21;break}return t.abrupt("return",{apolloData:m.data});case 21:o({statusCode:404,message:"Post not found"});case 22:case"end":return t.stop()}}),t)})))()},data:function(){return{snackbar:!1}},computed:{getDate:function(){var e=new Date(parseInt(this.apolloData.getPostFromId.creationTime)),t=e.toLocaleString("default",{month:"long"}),n=e.getDate(),r=e.getFullYear();return"".concat(t," ").concat(n,", ").concat(r)},getTopicName:function(){return this.apolloData.getTopicFromTopicName.name.match(/[A-Z][a-z]+|[0-9]+/g).join(" ")},getPostDescription:function(){return k()(JSON.parse(this.apolloData.getPostFromId.description).blocks)}},mounted:function(){var e=document.getElementById("like-btn"),t=document.getElementById("dislike-btn"),n=document.getElementById("save-btn"),r=document.getElementById("unsave-btn");this.apolloData.checkIfPostIsLikedByUser?t.style="display: initial;":e.style="display: initial;",this.apolloData.checkIfPostIsSavedByUser?r.style="display: initial;":n.style="display: initial;"},methods:{copyLinkToClipboard:function(){c()(I.baseUrl+this.$route.fullPath),this.snackbar=!0},checkIfTopicIsFollowedByUser:function(){return!!this.apolloData.checkIfTopicIsFollowedByUser&&this.apolloData.checkIfTopicIsFollowedByUser},likePost:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.$store.state.currentUser.uid||null==e.$store.state.currentUser.uid){t.next=17;break}return t.next=4,v.likePost(e.$store.state.currentUser.uid,e.$route.params.postId.split("--")[1]);case 4:if(t.sent.data){t.next=7;break}throw new Error("Some error occurred while liking post");case 7:n=document.getElementById("like-btn"),r=document.getElementById("dislike-btn"),n.style="display: none;",r.style="display: initial;",o=document.getElementById("like-count"),c=document.getElementById("like-count-increment"),l=document.getElementById("like-count-decrement"),e.apolloData.checkIfPostIsLikedByUser?(o.style="display: initial;",c.style="display: none;",l.style="display: none;"):(o.style="display: none;",c.style="display: initial;",l.style="display: none;"),t.next=18;break;case 17:return t.abrupt("return",e.$router.push("/signUp"));case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},dislikePost:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.$store.state.currentUser.uid||null==e.$store.state.currentUser.uid){t.next=17;break}return t.next=4,v.dislikePost(e.$store.state.currentUser.uid,e.$route.params.postId.split("--")[1]);case 4:if(t.sent.data){t.next=7;break}throw new Error("Some error occurred while disliking post");case 7:n=document.getElementById("like-btn"),r=document.getElementById("dislike-btn"),n.style="display: initial;",r.style="display: none;",o=document.getElementById("like-count"),c=document.getElementById("like-count-increment"),l=document.getElementById("like-count-decrement"),e.apolloData.checkIfPostIsLikedByUser?(o.style="display: none;",c.style="display: none;",l.style="display: initial;"):(o.style="display: initial;",c.style="display: none;",l.style="display: none;"),t.next=18;break;case 17:return t.abrupt("return",e.$router.push("/signUp"));case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},savePost:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.$store.state.currentUser.uid||null==e.$store.state.currentUser.uid){t.next=17;break}return t.next=4,v.savePost(e.$store.state.currentUser.uid,e.$route.params.postId.split("--")[1]);case 4:if(t.sent.data){t.next=7;break}throw new Error("Some error occurred while saving post");case 7:n=document.getElementById("save-btn"),r=document.getElementById("unsave-btn"),n.style="display: none;",r.style="display: initial;",o=document.getElementById("saved-count"),c=document.getElementById("saved-count-increment"),l=document.getElementById("saved-count-decrement"),e.apolloData.checkIfPostIsSavedByUser?(o.style="display: initial;",c.style="display: none;",l.style="display: none;"):(o.style="display: none;",c.style="display: initial;",l.style="display: none;"),t.next=18;break;case 17:return t.abrupt("return",e.$router.push("/signUp"));case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},unsavePost:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.$store.state.currentUser.uid||null==e.$store.state.currentUser.uid){t.next=17;break}return t.next=4,v.unsavePost(e.$store.state.currentUser.uid,e.$route.params.postId.split("--")[1]);case 4:if(t.sent.data){t.next=7;break}throw new Error("Some error occurred while unsaving post");case 7:n=document.getElementById("save-btn"),r=document.getElementById("unsave-btn"),n.style="display: initial;",r.style="display: none;",o=document.getElementById("saved-count"),c=document.getElementById("saved-count-increment"),l=document.getElementById("saved-count-decrement"),e.apolloData.checkIfPostIsSavedByUser?(o.style="display: none;",c.style="display: none;",l.style="display: initial;"):(o.style="display: initial;",c.style="display: none;",l.style="display: none;"),t.next=18;break;case 17:return t.abrupt("return",e.$router.push("/signUp"));case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),console.log(t.t0);case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()}},head:function(){return{title:this.apolloData.getPostFromId.title,meta:[{hid:"description",name:"description",content:this.apolloData.getPostFromId.caption},{property:"og:title",content:this.apolloData.getPostFromId.title},{property:"og:description",content:this.apolloData.getPostFromId.caption},{property:"og:site_name",content:I.baseUrl}]}}},C=(n(378),n(49)),$=n(89),_=n.n($),B=n(296),P=n(314),V=n(130),E=(n(22),n(379),n(27)),O=n(35),T=n(68),S=n(8),D=n(6),N=Object(S.a)(E.a,O.a,Object(T.b)(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive:function(){this.setTimeout()}},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(D.d)("auto-height",this)},mounted:function(){this.setTimeout()},methods:{setTimeout:function(){var e=this;window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout((function(){e.isActive=!1}),this.timeout))}},render:function(e){return e("transition",{attrs:{name:"v-snack-transition"}},[this.isActive&&e("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[e("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper",attrs:{role:"alert"}}),[e("div",{staticClass:"v-snack__content"},this.$slots.default)])])])}}),component=Object(C.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ma-0 pa-0"},[n("div",{staticClass:"mb-4"},[n("h1",{staticClass:"font-weight-bold blog-title-font"},[e._v("\n      "+e._s(e.apolloData.getPostFromId.title)+"\n    ")]),e._v(" "),n("div",{staticClass:"subtitle-1 font-weight-regular pt-3"},[e._v("\n      "+e._s(e.getDate)+"\n    ")])]),e._v(" "),n("topic-card",{staticClass:"pl-0 mb-10",attrs:{"topic-name":e.apolloData.getTopicFromTopicName.name,"topic-thumbnail-link":e.apolloData.getTopicFromTopicName.thumbnailLink,"topic-followers-count":e.apolloData.getTopicFromTopicName.followersCount,"has-user-followed-topic":e.checkIfTopicIsFollowedByUser()}}),e._v(" "),n("div",{staticClass:"font-weight-regular",staticStyle:{"font-size":"20px"},domProps:{innerHTML:e._s(e.getPostDescription)}}),e._v(" "),n("v-card",{staticClass:"blog-post-bottom-action-bar d-flex flex-row justify-space-around align-center pa-4"},[n("div",{staticClass:"ma-0 pa-0 d-flex flex-row justify-space-between align-center"},[n("v-btn",{attrs:{id:"like-btn",color:"info",icon:"",dark:""},on:{click:function(t){return e.likePost()}}},[n("v-icon",[e._v("favorite")])],1),e._v(" "),n("v-btn",{attrs:{id:"dislike-btn",color:"accent",icon:""},on:{click:function(t){return e.dislikePost()}}},[n("v-icon",[e._v("favorite")])],1),e._v(" "),n("span",{staticClass:"ml-2 body-1",attrs:{id:"like-count"}},[e._v(e._s(e.apolloData.getLikesCountOnPost))]),e._v(" "),n("span",{staticClass:"ml-2 body-1",attrs:{id:"like-count-increment"}},[e._v(e._s(e.apolloData.getLikesCountOnPost+1))]),e._v(" "),n("span",{staticClass:"ml-2 body-1",attrs:{id:"like-count-decrement"}},[e._v(e._s(e.apolloData.getLikesCountOnPost-1))])],1),e._v(" "),n("div",{staticClass:"ma-0 pa-0 d-flex flex-row justify-space-between align-center"},[n("v-btn",{attrs:{id:"save-btn",color:"info",icon:""},on:{click:function(t){return e.savePost()}}},[n("v-icon",[e._v("bookmark")])],1),e._v(" "),n("v-btn",{attrs:{id:"unsave-btn",color:"primary",icon:""},on:{click:function(t){return e.unsavePost()}}},[n("v-icon",[e._v("bookmark")])],1),e._v(" "),n("span",{staticClass:"ml-2 body-1",attrs:{id:"saved-count"}},[e._v(e._s(e.apolloData.getSavedCountOnPost))]),e._v(" "),n("span",{staticClass:"ml-2 body-1",attrs:{id:"saved-count-increment"}},[e._v(e._s(e.apolloData.getSavedCountOnPost+1))]),e._v(" "),n("span",{staticClass:"ml-2 body-1",attrs:{id:"saved-count-decrement"}},[e._v(e._s(e.apolloData.getSavedCountOnPost-1))])],1),e._v(" "),n("v-btn",{attrs:{icon:"",color:"#CDCDCD"},on:{click:function(t){return e.copyLinkToClipboard()}}},[n("v-icon",[e._v("share")])],1)],1),e._v(" "),n("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    Link Copied To Clipboard!\n    "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n      Close\n    ")])],1)],1)}),[],!1,null,"43d769fc",null);t.default=component.exports;_()(component,{VBtn:B.a,VCard:P.a,VIcon:V.a,VSnackbar:N})}}]);